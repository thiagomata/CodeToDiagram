<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CodeToDiagram: components/loader/Loader.class.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_5952676466667a7dac4d2b5465cc4c58.html">components</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_74aa68e606a65cacb4851cb582ae9e57.html">loader</a>
  </div>
</div>
<div class="contents">
<h1>Loader.class.php</h1><a href="_loader_8class_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 <span class="comment">/*</span>
<a name="l00003"></a>00003 <span class="comment"> * Loader it is the class resposanble to controls the load of the files</span>
<a name="l00004"></a>00004 <span class="comment"> * @package loader</span>
<a name="l00005"></a>00005 <span class="comment"> */</span>
<a name="l00006"></a>00006 
<a name="l00016"></a><a class="code" href="class_loader.html">00016</a> <span class="keyword">class </span><a class="code" href="class_loader.html">Loader</a>
<a name="l00017"></a>00017 {
<a name="l00022"></a><a class="code" href="class_loader.html#917d057900327b25608ed26c927eac3b">00022</a>     <span class="keyword">protected</span> <span class="keyword">static</span> <a class="code" href="class_loader.html#917d057900327b25608ed26c927eac3b">$objInstance</a>;
<a name="l00023"></a>00023 
<a name="l00028"></a><a class="code" href="class_loader.html#6df82920ad97ac822f6d64386d67a8ed">00028</a>     <span class="keyword">protected</span> <a class="code" href="class_loader.html#6df82920ad97ac822f6d64386d67a8ed">$booExternal</a> = <span class="keyword">false</span>;
<a name="l00029"></a>00029 
<a name="l00035"></a><a class="code" href="class_loader.html#8e74bce736504d1da15b87b4da6da83d">00035</a>     <span class="keyword">protected</span> <a class="code" href="class_loader.html#8e74bce736504d1da15b87b4da6da83d">$arrFiles</a> = array();
<a name="l00036"></a>00036 
<a name="l00042"></a><a class="code" href="class_loader.html#a98f483a98deab560007bc137dc466f4">00042</a>     <span class="keyword">protected</span> <a class="code" href="class_loader.html#a98f483a98deab560007bc137dc466f4">$strClassContent</a> = <span class="stringliteral">''</span>;
<a name="l00043"></a>00043     
<a name="l00049"></a><a class="code" href="class_loader.html#c93fbec81f07e5d15f80db907e63dc10">00049</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_loader.html#c93fbec81f07e5d15f80db907e63dc10">getInstance</a>()
<a name="l00050"></a>00050     {
<a name="l00051"></a>00051         <span class="keywordflow">if</span>( self::$objInstance == null )
<a name="l00052"></a>00052         {
<a name="l00053"></a>00053             self::$objInstance = <span class="keyword">new</span> <a class="code" href="class_loader.html">Loader</a>();
<a name="l00054"></a>00054         }
<a name="l00055"></a>00055         <span class="keywordflow">return</span> self::$objInstance;
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057 
<a name="l00065"></a><a class="code" href="class_loader.html#47da09032fbbeb0468684bb57608e368">00065</a>     <span class="keyword">public</span> function <a class="code" href="class_loader.html#47da09032fbbeb0468684bb57608e368">setExternal</a>( <a class="code" href="class_loader.html#6df82920ad97ac822f6d64386d67a8ed">$booExternal</a> )
<a name="l00066"></a>00066     {
<a name="l00067"></a>00067         $this-&gt;booExternal = <a class="code" href="class_loader.html#6df82920ad97ac822f6d64386d67a8ed">$booExternal</a>;
<a name="l00068"></a>00068     }
<a name="l00069"></a>00069 
<a name="l00077"></a><a class="code" href="class_loader.html#767f37b682bb9f3af154a085a6c0cd28">00077</a>     <span class="keyword">public</span> function <a class="code" href="class_loader.html#767f37b682bb9f3af154a085a6c0cd28">getExternal</a>()
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079         <span class="keywordflow">return</span> $this-&gt;booExternal;
<a name="l00080"></a>00080     }
<a name="l00081"></a>00081 
<a name="l00088"></a><a class="code" href="class_loader.html#81cf2501edc14f921358cabcb69cc621">00088</a>     <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_loader.html#81cf2501edc14f921358cabcb69cc621">requireOnce</a>( $strFile , $booIsClass = <span class="keyword">false</span> )
<a name="l00089"></a>00089     {
<a name="l00090"></a>00090 <span class="comment">//        print $strFile . '&lt;br/&gt;' . "\n";</span>
<a name="l00091"></a>00091         <a class="code" href="examples_2_fatorial_2external_8php.html#08f7c269fbed0dc6e9418a760af0b0d4">$arrBackTrace</a> = debug_backtrace();
<a name="l00092"></a>00092         <a class="code" href="examples_2_fatorial_2external_8php.html#eec542c8ae3a1391debea1f81f705693">$arrCaller</a> = <a class="code" href="examples_2_fatorial_2external_8php.html#08f7c269fbed0dc6e9418a760af0b0d4">$arrBackTrace</a>[0];
<a name="l00093"></a>00093         <a class="code" href="examples_2_fatorial_2external_8php.html#0b565fafc4b4be60a5bf1adbfc2a970c">$strFileCaller</a> = <a class="code" href="examples_2_fatorial_2external_8php.html#eec542c8ae3a1391debea1f81f705693">$arrCaller</a>[ <span class="stringliteral">'file'</span> ];
<a name="l00094"></a>00094         $strPathCaller = <a class="code" href="class_coruja_file_manipulation.html#3ddb4823b9d4ae3268062f9fed585331">CorujaFileManipulation::getPathOfFile</a>( <a class="code" href="examples_2_fatorial_2external_8php.html#0b565fafc4b4be60a5bf1adbfc2a970c">$strFileCaller</a>  );
<a name="l00095"></a>00095 
<a name="l00096"></a>00096         <span class="keywordflow">if</span>( <a class="code" href="class_coruja_file_manipulation.html#56545f86fdff2e9b63465549644a1d75">CorujaFileManipulation::isRelativePath</a>( $strFile ) )
<a name="l00097"></a>00097         {
<a name="l00098"></a>00098             $strFullPathFile = $strPathCaller . $strFile;
<a name="l00099"></a>00099         }
<a name="l00100"></a>00100         <span class="keywordflow">else</span>
<a name="l00101"></a>00101         {
<a name="l00102"></a>00102             $strFullPathFile = $strFile;
<a name="l00103"></a>00103         }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105         <span class="keywordflow">if</span>( $booIsClass &amp;&amp; self::getInstance()-&gt;<a class="code" href="class_loader.html#767f37b682bb9f3af154a085a6c0cd28">getExternal</a>() )
<a name="l00106"></a>00106         {
<a name="l00107"></a>00107              <a class="code" href="class_loader.html#c93fbec81f07e5d15f80db907e63dc10">self::getInstance</a>()-&gt;show( $strFullPathFile );
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109         
<a name="l00110"></a>00110         require_once( $strFullPathFile );
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="class_loader.html#d5ce6d9d24cd1fa3bbe2d02d614fc239">00113</a>     <span class="keyword">public</span> function <a class="code" href="class_loader.html#d5ce6d9d24cd1fa3bbe2d02d614fc239">show</a>( $strFullPathFile )
<a name="l00114"></a>00114     {
<a name="l00115"></a>00115         <span class="keywordflow">if</span>( !in_array( $strFullPathFile , $this-&gt;arrFiles ) )
<a name="l00116"></a>00116         {
<a name="l00117"></a>00117             $this-&gt;arrFiles[] = $strFullPathFile;
<a name="l00118"></a>00118             $this-&gt;strClassContent .= file_get_contents( $strFullPathFile );
<a name="l00119"></a>00119         }
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="class_loader.html#913a9fc76b7468b9f6d16d55d36bf9c2">00122</a>     <span class="keyword">public</span> function <a class="code" href="class_loader.html#913a9fc76b7468b9f6d16d55d36bf9c2">getClassContent</a>()
<a name="l00123"></a>00123     {
<a name="l00124"></a>00124         <span class="keywordflow">return</span> $this-&gt;strClassContent;
<a name="l00125"></a>00125     }
<a name="l00126"></a>00126 }
<a name="l00127"></a>00127 ?&gt;
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat May 2 20:59:09 2009 for CodeToDiagram by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
