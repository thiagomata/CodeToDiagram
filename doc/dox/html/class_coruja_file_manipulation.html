<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>CodeToDiagram: CorujaFileManipulation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CorujaFileManipulation Class Reference</h1><!-- doxytag: class="CorujaFileManipulation" -->
<p>
<a href="class_coruja_file_manipulation-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_coruja_file_manipulation.html#d93d1005c4ce820356bd2f4c0d15f6a3">getRelativePath</a> ($strFileFrom, $strFileTo, $booValidPath=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_coruja_file_manipulation.html#56545f86fdff2e9b63465549644a1d75">isRelativePath</a> ($strFile)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_coruja_file_manipulation.html#3ddb4823b9d4ae3268062f9fed585331">getPathOfFile</a> ($strFile)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class for manipulation of files<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Thiago Henrique Ramos da Mata &lt;<a href="mailto:thiago.henrique.mata@gmail.com">thiago.henrique.mata@gmail.com</a>&gt; </dd></dl>

<p>Definition at line <a class="el" href="_coruja_file_manipulation_8class_8php_source.html#l00012">12</a> of file <a class="el" href="_coruja_file_manipulation_8class_8php_source.html">CorujaFileManipulation.class.php</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="3ddb4823b9d4ae3268062f9fed585331"></a><!-- doxytag: member="CorujaFileManipulation::getPathOfFile" ref="3ddb4823b9d4ae3268062f9fed585331" args="($strFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getPathOfFile           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the path of the file<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$strFile </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>string </dd></dl>

<p>Definition at line <a class="el" href="_coruja_file_manipulation_8class_8php_source.html#l00140">140</a> of file <a class="el" href="_coruja_file_manipulation_8class_8php_source.html">CorujaFileManipulation.class.php</a>.</p>

<p>Referenced by <a class="el" href="_loader_8class_8php_source.html#l00088">Loader::requireOnce()</a>, and <a class="el" href="_code_to_diagram_8class_8php_source.html#l00838">CodeToDiagram::setCallerPathByFile()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00141"></a>00141     {
<a name="l00142"></a>00142         <span class="keywordflow">return</span> str_replace( <span class="stringliteral">"\\"</span> , <span class="stringliteral">"/"</span> , str_replace( basename( $strFile ) , <span class="stringliteral">""</span> , $strFile ) );
<a name="l00143"></a>00143     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_coruja_file_manipulation_3ddb4823b9d4ae3268062f9fed585331_icgraph.png" border="0" usemap="#class_coruja_file_manipulation_3ddb4823b9d4ae3268062f9fed585331_icgraph_map" alt=""></center>
<map name="class_coruja_file_manipulation_3ddb4823b9d4ae3268062f9fed585331_icgraph_map">
<area shape="rect" id="node3" href="class_loader.html#81cf2501edc14f921358cabcb69cc621" title="Loader::requireOnce" alt="" coords="197,5,331,32"><area shape="rect" id="node5" href="class_code_to_diagram.html#4f3c0ec90b4f1c97f6795b6b113ff2c2" title="CodeToDiagram::setCallerPathByFile" alt="" coords="151,56,377,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="d93d1005c4ce820356bd2f4c0d15f6a3"></a><!-- doxytag: member="CorujaFileManipulation::getRelativePath" ref="d93d1005c4ce820356bd2f4c0d15f6a3" args="($strFileFrom, $strFileTo, $booValidPath=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static getRelativePath           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strFileFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strFileTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>booValidPath</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a path to a folder relative from another folder. Both parameters must be absolute.<p>
<ul>
<li>check for valid parameters</li><li>in case paths are equal return './'</li><li>explode parameters using '/'</li><li>remove similar base folders</li><li>make final address</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$strFileFrom Base from the path. This must be an absolute path. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>String</em>&nbsp;</td><td>$strFileTo Destination of the path. This must be an absolute path. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Boolean</em>&nbsp;</td><td>$booValidPath Use false if you don't want to check for valid folders. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InvalidArgumentException</em>&nbsp;</td><td>In case of invalid values</td></tr>
  </table>
</dl>
<dl class="user" compact><dt><b>Example:</b></dt><dd>$path = CorujaStringManipulation::getRelativePath( "/www/folder/", "/www/another/big/" ); // "../another/big/"</dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/www/folder/", "/www/another/big/", false ) == "../another/big/" </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "", "" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "hello", "" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "", "hello" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "cool", "hello" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/", "hello" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "cool", "/hello/" ) throws InvalidArgumentException </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/", "/hello/", false ) == "../hello/" </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/", "/hello/", false ) == "../hello/" </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/", "/cool/", false ) == "./" </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/more/", "/other/", false ) == "../../other/" </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/cool/", "/other/more/", false ) == "../other/more/" </dd></dl>

<p>Definition at line <a class="el" href="_coruja_file_manipulation_8class_8php_source.html#l00044">44</a> of file <a class="el" href="_coruja_file_manipulation_8class_8php_source.html">CorujaFileManipulation.class.php</a>.</p>

<p>Referenced by <a class="el" href="_xml_sequence_printer_diagram_8class_8php_source.html#l00133">XmlSequencePrinterDiagram::showHeaders()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00045"></a>00045     {
<a name="l00046"></a>00046         <span class="comment">// check for valid parameters</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048         $strFileFrom = str_replace( <span class="stringliteral">"\\"</span> , <span class="stringliteral">"/"</span> , $strFileFrom );
<a name="l00049"></a>00049         $strFileTo = str_replace( <span class="stringliteral">"\\"</span> , <span class="stringliteral">"/"</span> , $strFileTo );
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         <span class="keywordflow">if</span>( $booValidPath
<a name="l00052"></a>00052             &amp;&amp; ( ! is_dir( $strFileFrom ) || ! is_dir( $strFileTo ) )
<a name="l00053"></a>00053         )
<a name="l00054"></a>00054         {
<a name="l00055"></a>00055             <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidArgumentException(<span class="stringliteral">"Invalid parameter: strFileFrom: "</span>.$strFileFrom.<span class="stringliteral">" strFileTo: "</span>.$strFileTo);
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         <span class="comment">// special case: equal paths</span>
<a name="l00059"></a>00059         <span class="keywordflow">if</span>( $strFileFrom == $strFileTo )
<a name="l00060"></a>00060         {
<a name="l00061"></a>00061              $strReturnPath = <span class="stringliteral">'./'</span>;
<a name="l00062"></a>00062         }
<a name="l00063"></a>00063         <span class="keywordflow">else</span>
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065             <span class="comment">// explode parameters using '/'</span>
<a name="l00066"></a>00066             $arrFileFrom = explode( <span class="charliteral">'/'</span>, $strFileFrom );
<a name="l00067"></a>00067             $arrFileTo   = explode( <span class="charliteral">'/'</span>, $strFileTo );
<a name="l00068"></a>00068 
<a name="l00069"></a>00069             <span class="comment">// remove similar base folders</span>
<a name="l00070"></a>00070             <span class="keywordflow">while</span>(
<a name="l00071"></a>00071                 current( $arrFileFrom ) == current( $arrFileTo )
<a name="l00072"></a>00072                 &amp;&amp; count( $arrFileFrom ) &gt; 0
<a name="l00073"></a>00073             )
<a name="l00074"></a>00074             {
<a name="l00075"></a>00075                 array_shift( $arrFileFrom );
<a name="l00076"></a>00076                 array_shift( $arrFileTo );
<a name="l00077"></a>00077             }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079             $arrReturnPath = array();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081             <span class="comment">// make final address</span>
<a name="l00082"></a>00082             <span class="keywordflow">foreach</span>( $arrFileFrom as $strFolder )
<a name="l00083"></a>00083             {
<a name="l00084"></a>00084                 <span class="keywordflow">if</span>( $strFolder != <span class="stringliteral">""</span> ) {
<a name="l00085"></a>00085                     $arrReturnPath[] = <span class="stringliteral">".."</span>;
<a name="l00086"></a>00086                 }
<a name="l00087"></a>00087             }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089             <span class="keywordflow">foreach</span>( $arrFileTo as $strFolder )
<a name="l00090"></a>00090             {
<a name="l00091"></a>00091                 $arrReturnPath[] = $strFolder;
<a name="l00092"></a>00092             }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094             $strReturnPath = implode( <span class="charliteral">'/'</span>, $arrReturnPath );
<a name="l00095"></a>00095         }
<a name="l00096"></a>00096         <span class="keywordflow">return</span> $strReturnPath;
<a name="l00097"></a>00097     }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_coruja_file_manipulation_d93d1005c4ce820356bd2f4c0d15f6a3_icgraph.png" border="0" usemap="#class_coruja_file_manipulation_d93d1005c4ce820356bd2f4c0d15f6a3_icgraph_map" alt=""></center>
<map name="class_coruja_file_manipulation_d93d1005c4ce820356bd2f4c0d15f6a3_icgraph_map">
<area shape="rect" id="node3" href="class_xml_sequence_printer_diagram.html#82d9e10e8180da3641b19222fb093328" title="XmlSequencePrinterDiagram::showHeaders" alt="" coords="163,5,429,32"><area shape="rect" id="node5" href="class_xml_sequence_printer_diagram.html#2b8e3779f5bd8c38f70307574859bd36" title="XmlSequencePrinterDiagram::show" alt="" coords="477,5,696,32"><area shape="rect" id="node7" href="class_xml_sequence_printer_diagram.html#7a8a4630e9f25847da0a6de87a5ab7e0" title="XmlSequencePrinterDiagram::perform" alt="" coords="744,5,976,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="56545f86fdff2e9b63465549644a1d75"></a><!-- doxytag: member="CorujaFileManipulation::isRelativePath" ref="56545f86fdff2e9b63465549644a1d75" args="($strFile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static isRelativePath           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>strFile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if a address is relative<p>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "c:\www\temp.php" ) == false </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "d:/www/temp.php" ) == false </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "temp.php" ) == true </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "./temp.php" ) == true </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "/www/something.php" ) == false </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "./www/something.php" ) == true </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( ".\www\something.php" ) == true </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "..\www\something.php" ) == true </dd></dl>
<dl class="user" compact><dt><b>Assert:</b></dt><dd>( "..\www\something.php" ) == true </dd></dl>

<p>Definition at line <a class="el" href="_coruja_file_manipulation_8class_8php_source.html#l00113">113</a> of file <a class="el" href="_coruja_file_manipulation_8class_8php_source.html">CorujaFileManipulation.class.php</a>.</p>

<p>Referenced by <a class="el" href="_code_to_diagram_8class_8php_source.html#l00804">CodeToDiagram::loadFile()</a>, and <a class="el" href="_loader_8class_8php_source.html#l00088">Loader::requireOnce()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00114"></a>00114     {
<a name="l00115"></a>00115         $strFile = str_replace( <span class="stringliteral">"\\"</span>, <span class="stringliteral">"/"</span>, $strFile);
<a name="l00116"></a>00116         <span class="keywordflow">if</span>(
<a name="l00117"></a>00117             ( strpos( $strFile, <span class="stringliteral">"./"</span>) === 0 )
<a name="l00118"></a>00118             or
<a name="l00119"></a>00119             ( strpos( $strFile, <span class="stringliteral">"../"</span>) === 0 )
<a name="l00120"></a>00120          )
<a name="l00121"></a>00121         {
<a name="l00122"></a>00122             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00123"></a>00123         }
<a name="l00124"></a>00124         elseif( strpos( $strFile, <span class="stringliteral">"/"</span>) === <span class="keyword">false</span> )
<a name="l00125"></a>00125         {
<a name="l00126"></a>00126             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00127"></a>00127         }
<a name="l00128"></a>00128         <span class="keywordflow">else</span>
<a name="l00129"></a>00129         {
<a name="l00130"></a>00130             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00131"></a>00131         }
<a name="l00132"></a>00132    }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_coruja_file_manipulation_56545f86fdff2e9b63465549644a1d75_icgraph.png" border="0" usemap="#class_coruja_file_manipulation_56545f86fdff2e9b63465549644a1d75_icgraph_map" alt=""></center>
<map name="class_coruja_file_manipulation_56545f86fdff2e9b63465549644a1d75_icgraph_map">
<area shape="rect" id="node3" href="class_code_to_diagram.html#46cc51b5da83819fed739bd1d8b1d2ca" title="CodeToDiagram::loadFile" alt="" coords="156,31,319,57"><area shape="rect" id="node13" href="class_loader.html#81cf2501edc14f921358cabcb69cc621" title="Loader::requireOnce" alt="" coords="171,81,304,108"><area shape="rect" id="node5" href="class_code_to_diagram.html#cbf7ee26453936ec8211ff606f3ed6d3" title="CodeToDiagram::CodeToDiagramInclude" alt="" coords="371,5,621,32"><area shape="rect" id="node7" href="class_code_to_diagram.html#14610b43e210992a460d7eebbbe3c167" title="CodeToDiagram::CodeToDiagramRequire" alt="" coords="368,56,624,83"><area shape="rect" id="node9" href="class_code_to_diagram.html#f51b27f0764b66ac0d52a47399286180" title="CodeToDiagram::CodeToDiagramRequireOnce" alt="" coords="673,56,956,83"><area shape="rect" id="node11" href="class_code_to_diagram.html#f8fa59992209e36dccb3eefb0f75531f" title="CodeToDiagram::start" alt="" coords="1005,56,1149,83"></map>
</div>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>components/library/<a class="el" href="_coruja_file_manipulation_8class_8php_source.html">CorujaFileManipulation.class.php</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat May 2 21:01:32 2009 for CodeToDiagram by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
