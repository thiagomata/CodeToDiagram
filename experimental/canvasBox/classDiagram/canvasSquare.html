<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Testing the Box</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="../phpjs/php.js" type="text/javascript" charset="utf-8"></script>
    <script src="_start.js" type="text/javascript" charset="utf-8"></script>
    <script src="CanvasBoxDefaultConnectorBehavior.js" type="text/javascript" charset="utf-8"></script>
    <script src="CanvasBoxConnector.js" type="text/javascript" charset="utf-8"></script>
    <script src="CanvasBoxMagneticConnectorBehavior.js" type="text/javascript" charset="utf-8"></script>
    <script src="CanvasBoxLine.js" type="text/javascript" charset="utf-8"></script>
      <style>
          *
          {
              padding: 0;
              margin: 0;
              border: none;
          }
          canvas
          {
              border-style: solid;
              border-color: black;
              border-width: 1px;
          }
      </style>
  </head>
  <body>
    <canvas id="abc">
    </canvas>
    <script type="text/javascript" charset="utf-8">
        var objBox = new CanvasBox( "abc" , 800 , 800 );
        window.box = objBox;
        function addSquare( color )
        {
            var objSquare = new CanvasBoxSquare();
            objSquare.side = 50;
            objSquare.objBehavior = new CanvasBoxMagneticBehavior( objSquare );
            objSquare.x = Math.random() *  window.box.width ;
            objSquare.y = Math.random() * window.box.height ;
            if( color )
            {
                objSquare.color = color;
            }
            window.box.addElement( objSquare );
            return objSquare;
        }
        function addLine( objFrom , objTo , color )
        {
            var objLine = new CanvasBoxLine( objFrom , objTo );
            objLine.objBehavior = new CanvasBoxMagneticConnectorBehavior( objLine );
            objLine.x =  Math.random() *  window.box.width ;
            objLine.y =  Math.random() *  window.box.width ;;
//            objLine.side = 5;
            if( color )
            {
                objLine.color = color;
            }
            window.box.addElement( objLine );
            return objLine;
        }
        function cloneLine( objLineOriginal )
        {
            return objLineOriginal.cloneLine();
        }
        addSquare();
        var objRed = addSquare(  );
        var objGreen = addSquare(  );
        var objYellow = addSquare(  );
        var objBlue = addSquare( );

        var objLine = addLine( objRed , objGreen );
        var objLine = addLine( objYellow , objBlue );
        var objLine = addLine( objYellow , objGreen );
        var objLine = addLine( objBlue , objRed  );

        window.objLine = objLine;
    </script>
    <input value="Add Square" onclick="addSquare()" type="button"/>
    <input value="Add Dot Line" onclick="cloneLine( window.objLine )" type="button"/>
  </body>
</html>
