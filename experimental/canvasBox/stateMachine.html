<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Testing the Box</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        </title> 
        <script src="../phpjs/php.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../phpjs/php.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/prototype.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBox.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxConnector.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxDefaultBehavior.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxDefaultConnectorBehavior.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxElement.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxGravityBehavior.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxLine.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxMagneticBehavior.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxMagneticConnectorBehavior.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/default/CanvasBoxMenu.js" type="text/javascript" charset="utf-8"></script><script src="./box/default.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxClass.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxAggregation.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxAssociation.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxComposition.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxDependency.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxGeneralization.js" type="text/javascript" charset="utf-8"'></script> 
        <script src="../canvasBox/classDiagram/CanvasBoxSquare.js" type="text/javascript" charset="utf-8"></script> 
        <script src="../canvasBox/stateMachine/CanvasBoxState.js" type="text/javascript" charset="utf-8"'></script> 
           <style>
          *
          {
              padding: 0;
              margin: 0;
              border: none;
          }
          canvas
          {
              border-style: solid;
              border-color: black;
              border-width: 1px;
          }
      </style>
  </head>
  <body>
    <canvas id="abc">
    </canvas>
    <script type="text/javascript" charset="utf-8">
        var objBox = new CanvasBox( "abc" , 400 , 500 );
        window.box = objBox;
        function addSquare( color )
        {
            var objSquare = new CanvasBoxState();
            objSquare.objBehavior = new CanvasBoxMagneticBehavior( objSquare );
            objSquare.x = 0;//Math.random() *  window.box.width ;
            objSquare.y = 0;//Math.random() * window.box.height ;
            objSquare.fixed = true;
            objSquare.drawFixed( true );
            objSquare.fillColor = "orange";
            if( color )
            {
                objSquare.color = color;
            }
            window.box.addElement( objSquare );
            return objSquare;
        }
        function addLine( objFrom , objTo , color )
        {
            var objLine = new CanvasBoxDependency( objFrom , objTo );
            objLine.objBehavior = new CanvasBoxMagneticConnectorBehavior( objLine );
            objLine.x =  ( objFrom.x + objTo.x ) / 2 ;
            objLine.y =  ( objFrom.y + objTo.y ) / 2;
//            objLine.side = 5;
            if( color )
            {
                objLine.color = color;
            }
            window.box.addElement( objLine );
            return objLine;
        }
        function cloneLine( objLineOriginal )
        {
            return objLineOriginal.cloneLine();
        }
        var objFactoryFromXml = addSquare(  );
        objFactoryFromXml.strStateName = "Factory From Xml"; 
        objFactoryFromXml.x = 70;
        objFactoryFromXml.y = 80;
         
        var objFactoryFromCode = addSquare(  );
        objFactoryFromCode.strStateName = "Factory From Code"; 
        objFactoryFromCode.x = 330;
        objFactoryFromCode.y = 80;
        
        var objDiagram = addSquare(  );
        objDiagram.strStateName = "Uml Diagram"; 
        objDiagram.x = 200;
        objDiagram.y = 200;
        objDiagram.fillColor = "rgb(200,200,230)";
 
        var objPrinterHtml = addSquare( );
        objPrinterHtml.strStateName = "Printer Html"; 
        objPrinterHtml.x = 100;
        objPrinterHtml.y = 350;
        
        var objPrinterXml = addSquare( );
        objPrinterXml.strStateName = "Printer Xml"; 
        objPrinterXml.x = 200;
        objPrinterXml.y = 400;
        
        var objPrinterPng = addSquare( );
        objPrinterPng.strStateName = "Printer Png"; 
        objPrinterPng.x = 300;
        objPrinterPng.y = 350;

        var objLine = addLine( objFactoryFromXml , objDiagram );
        var objLine = addLine( objFactoryFromCode , objDiagram );
        var objLine = addLine( objDiagram , objPrinterHtml );
        var objLine = addLine( objDiagram , objPrinterXml  );
        var objLine = addLine( objDiagram , objPrinterPng  );

        window.objLine = objLine;
    </script>
    <input value="Add Square" onclick="addSquare()" type="button"/>
    <input value="Add Dot Line" onclick="cloneLine( window.objLine )" type="button"/>
  </body>
</html>
